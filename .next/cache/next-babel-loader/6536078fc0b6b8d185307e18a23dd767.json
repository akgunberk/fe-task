{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'isomorphic-fetch';\nimport Duration from './movieDuration';\nimport Rate from './progress';\nimport data from '../data/0001.json';\nimport { Transition } from 'semantic-ui-react';\n\nclass Movie extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleClick\", e => {\n      this.setState(prevState => ({\n        visible: !prevState.visible\n      }));\n      console.log(this.state.details.storyline, this.state.details.writers, this.state.details.directors, this.state.details.actors);\n      document.getElementById(this.state.id).classList = 'movie_clicked';\n      const watchlistButton = React.createElement('p', {\n        className: 'text_button'\n      }, 'ADD TO WATCHLIST');\n      ReactDOM.render(watchlistButton, document.getElementById(this.props.data.id + '_button'));\n      this.setState({\n        barStyle: {\n          width: '212px',\n          position: 'absolute',\n          float: \"right\",\n          right: '24px',\n          top: '14px'\n        }\n      });\n\n      const storyline = __jsx(\"div\", {\n        className: \"content_movie\"\n      }, __jsx(\"div\", {\n        id: this.props.data.id + '_content',\n        className: \"content_movie_storyline\"\n      }, this.state.details.storyline), __jsx(\"hr\", {\n        className: \"content_movie_shapeline\"\n      }), __jsx(\"div\", {\n        className: \"content_movie_summary\"\n      }, __jsx(\"div\", {\n        className: \"content_movie_summary_header\"\n      }, __jsx(\"p\", null, \"Director: \", __jsx(\"span\", null, \"berk\")), __jsx(\"p\", null, \"Writers:\"), __jsx(\"p\", null, \"Stars:\"))));\n\n      ReactDOM.render(storyline, document.getElementById(this.props.data.id + '_content'));\n    });\n\n    this.state = {\n      show: true,\n      details: null,\n      id: this.props.data.id,\n      barStyle: {\n        width: \"326px\",\n        margin: '35px auto 47px'\n      },\n      visible: true\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  static async getInitialProps() {\n    // fetching movie poster\n    const poster = await fetch(this.props.data.posterurl).then(res => res.blob()).then(blob => URL.createObjectURL(blob)).catch(error => {\n      error;\n    });\n    return {\n      posterurl: poster\n    };\n  }\n\n  componentDidMount(props) {\n    var details = require(`../data/${this.props.data.id}.json`);\n\n    this.setState({\n      details: details\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      id: this.props.data.id,\n      className: \"movie\"\n    }, __jsx(\"div\", {\n      className: \"img_container\"\n    }, __jsx(\"img\", {\n      className: \"img_poster\",\n      alt: this.props.data.originalTitle + ' Poster',\n      src: this.props.data.posterurl\n    }), __jsx(\"div\", {\n      className: \"gradient\"\n    }), __jsx(\"div\", {\n      className: \"gradient_white\"\n    })), __jsx(\"div\", {\n      className: \"bg_content\"\n    }, __jsx(\"div\", {\n      className: \"name_movie\"\n    }, this.props.data.originalTitle), __jsx(\"div\", {\n      className: \"info_movie\"\n    }, this.props.data.year, \" \\xB7 \", this.props.data.genres.join(', '), \" \\xB7 \", __jsx(Duration, {\n      min: this.props.data.duration\n    })), __jsx(\"div\", {\n      className: \"rating\"\n    }, this.props.data.imdbRating, __jsx(\"span\", {\n      className: \"text-style-1\"\n    }, \"/10\")), __jsx(Rate, {\n      id: this.props.data.id + \"_rate\",\n      percent: this.props.data.imdbRating * 10,\n      barStyle: this.state.barStyle\n    }), __jsx(\"div\", {\n      id: this.props.data.id + \"_content\"\n    }), __jsx(Transition, {\n      animation: 'bounce',\n      duration: 200,\n      visible: this.state.visible\n    }, __jsx(\"button\", {\n      className: \"bg_button\",\n      onClick: this.handleClick\n    }, __jsx(\"p\", {\n      id: this.props.data.id + \"_button\",\n      className: \"text_button\"\n    }, \"MOVIE DETAILS\")))));\n  }\n\n}\n\nexport default Movie;","map":null,"metadata":{},"sourceType":"module"}