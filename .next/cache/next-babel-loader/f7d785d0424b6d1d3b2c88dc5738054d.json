{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'isomorphic-fetch';\nimport Duration from './movieDuration';\nimport Rate from './progress';\nimport data from '../data/0001.json';\nimport { Transition } from 'semantic-ui-react';\n\nvar Movie =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Movie, _Component);\n\n  function Movie(props) {\n    var _this;\n\n    _classCallCheck(this, Movie);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Movie).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      _this.setState(function (prevState) {\n        return {\n          visible: !prevState.visible\n        };\n      });\n\n      console.log(_this.state.details.storyline, _this.state.details.writers, _this.state.details.directors, _this.state.details.actors);\n      document.getElementById(_this.state.id).classList = 'movie_clicked';\n      var watchlistButton = React.createElement('p', {\n        className: 'text_button'\n      }, 'ADD TO WATCHLIST');\n      ReactDOM.render(watchlistButton, document.getElementById(_this.props.data.id + '_button'));\n\n      _this.setState({\n        barStyle: {\n          width: '212px',\n          position: 'absolute',\n          \"float\": \"right\",\n          right: '24px',\n          top: '14px'\n        }\n      });\n\n      var storyline = __jsx(\"div\", {\n        className: \"content_movie\"\n      }, __jsx(\"div\", {\n        id: _this.props.data.id + '_content',\n        className: \"content_movie_storyline\"\n      }, _this.state.details.storyline), __jsx(\"hr\", {\n        className: \"content_movie_shapeline\"\n      }), __jsx(\"div\", {\n        className: \"content_movie_summary\"\n      }, __jsx(\"div\", {\n        className: \"content_movie_summary_header\"\n      }, __jsx(\"p\", null, \"Director: \", __jsx(\"span\", null, \"berk\")), __jsx(\"p\", null, \"Writers:\"), __jsx(\"p\", null, \"Stars:\"))));\n\n      ReactDOM.render(storyline, document.getElementById(_this.props.data.id + '_content'));\n    });\n\n    _this.state = {\n      show: true,\n      details: null,\n      id: _this.props.data.id,\n      barStyle: {\n        width: \"326px\",\n        margin: '35px auto 47px'\n      },\n      visible: true\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Movie, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(props) {\n      var details = require(\"../data/\".concat(this.props.data.id, \".json\"));\n\n      this.setState({\n        details: details\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        id: this.props.data.id,\n        className: \"movie\"\n      }, __jsx(\"div\", {\n        className: \"img_container\"\n      }, __jsx(\"img\", {\n        className: \"img_poster\",\n        alt: this.props.data.originalTitle + ' Poster',\n        src: this.props.data.posterurl\n      }), __jsx(\"div\", {\n        className: \"gradient\"\n      }), __jsx(\"div\", {\n        className: \"gradient_white\"\n      })), __jsx(\"div\", {\n        className: \"bg_content\"\n      }, __jsx(\"div\", {\n        className: \"name_movie\"\n      }, this.props.data.originalTitle), __jsx(\"div\", {\n        className: \"info_movie\"\n      }, this.props.data.year, \" \\xB7 \", this.props.data.genres.join(', '), \" \\xB7 \", __jsx(Duration, {\n        min: this.props.data.duration\n      })), __jsx(\"div\", {\n        className: \"rating\"\n      }, this.props.data.imdbRating, __jsx(\"span\", {\n        className: \"text-style-1\"\n      }, \"/10\")), __jsx(Rate, {\n        id: this.props.data.id + \"_rate\",\n        percent: this.props.data.imdbRating * 10,\n        barStyle: this.state.barStyle\n      }), __jsx(\"div\", {\n        id: this.props.data.id + \"_content\"\n      }), __jsx(Transition, {\n        animation: 'bounce',\n        duration: 200,\n        visible: this.state.visible\n      }, __jsx(\"button\", {\n        className: \"bg_button\",\n        onClick: this.handleClick\n      }, __jsx(\"p\", {\n        id: this.props.data.id + \"_button\",\n        className: \"text_button\"\n      }, \"MOVIE DETAILS\")))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var poster;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch(this.props.data.posterurl).then(function (res) {\n                return res.blob();\n              }).then(function (blob) {\n                return URL.createObjectURL(blob);\n              })[\"catch\"](function (error) {\n                error;\n              }));\n\n            case 2:\n              poster = _context.sent;\n              return _context.abrupt(\"return\", {\n                posterurl: poster\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }]);\n\n  return Movie;\n}(Component);\n\nexport default Movie;","map":null,"metadata":{},"sourceType":"module"}